# MusicPicker - 音乐文件匹配工具

一个基于Python的音乐文件批量匹配和复制工具，帮助用户从本地音乐库中筛选指定歌曲并复制到目标目录。

## 项目初衷

在音乐平台迁移时，在线迁移工具经常因为版权差异、曲库缺失等问题导致部分歌曲无法匹配。对于拥有本地音乐收藏的用户，MusicPicker提供了一个更可靠的解决方案：

1. **获取歌单** - 从任意平台导出歌单列表
2. **本地匹配** - 从本地音乐库中精准匹配对应文件
3. **批量复制** - 利用平台的本地导入功能完成迁移

这种方式避免了版权限制，保持了音频质量，让音乐平台迁移变得简单高效。

## 主要功能

- 图形界面操作，简单易用
- 双重匹配模式：文件名匹配和元数据匹配
- 支持多种音频格式：MP3、FLAC、WAV、M4A、AAC、OGG
- 支持中英文界面切换
- 实时显示处理进度和日志
- 可随时停止处理过程

## v1.2.0 新功能

### 🎨 界面优化
- **统一按钮设计** - 所有按钮采用一致的5x1尺寸，提升界面美观性
- **更大显示区域** - 窗口尺寸优化为1280x1024，提供更好的操作体验
- **界面文本精简** - 简化提示文本，界面更加清爽

### 🔍 匹配算法增强
- **多艺术家支持** - 智能识别`/`和`_`分隔符，完美兼容各种艺术家命名格式
  - 支持：`歌曲名 - 艺术家1/艺术家2.mp3`
  - 支持：`歌曲名 - 艺术家1_艺术家2.mp3`
- **文件名容错性提升** - 更强的文件名变体识别能力

### 🛠️ 开发者功能
- **自动化构建** - 集成完整的发布构建系统，支持一键打包
- **代码质量** - 自动代码格式化和项目清理功能
- **完整的播放列表功能** - 播放列表生成和比较功能现已完全可用

## 运行环境

- Python 3.6+
- 依赖：mutagen
  ```bash
  pip install mutagen
  ```

## 使用方法

1. 下载项目
2. 安装依赖：`pip install -r requirements.txt`
3. 运行：`python MusicPicker.py`

### 操作步骤
1. 启动程序
2. 选择歌曲列表文件（txt格式）
3. 选择本地音乐文件夹
4. 选择输出文件夹
5. 选择匹配模式（建议使用元数据匹配）
6. 点击"开始筛选复制"

### 歌曲列表格式
创建txt文件，每行格式：`歌曲名 - 艺术家`

示例：
```
告白气球 - 周杰伦
七里香 - 周杰伦
演员 - 薛之谦
月亮代表我的心 - 邓丽君
甜蜜蜜 - 邓丽君
```

注意：
- 文件编码：UTF-8
- 分隔符：` - `（空格-空格）
- 支持#开头的注释行

## 匹配算法

### 元数据匹配
基于音频文件内嵌标签匹配，精度较高。支持标题、艺术家、专辑等标签信息。

### 文件名匹配
基于文件名的包含式匹配，支持多种命名格式：
- `告白气球 - 周杰伦.mp3`
- `周杰伦 - 告白气球.flac`
- `[专辑名] 周杰伦 - 告白气球.mp3`

**v1.2.0 增强**：智能识别多艺术家分隔符
- `歌曲名 - 艺术家1/艺术家2.mp3` （斜杠分隔）
- `歌曲名 - 艺术家1_艺术家2.mp3` （下划线分隔）

## 项目结构

```
MusicPicker/
├── MusicPicker.py         # 程序入口
├── gui.py                 # 图形界面
├── music_processor.py     # 核心匹配逻辑
├── metadata_processor.py  # 元数据处理
├── playlist_generator.py  # 播放列表生成
├── playlist_comparator.py # 播放列表比较
├── translator.py          # 多语言支持
├── config.py             # 配置文件
├── utils.py              # 工具函数
├── release_build.py      # 自动化构建脚本 (v1.2.0新增)
└── requirements.txt      # 依赖列表
```

## 打包可执行文件

```bash
pip install pyinstaller
pyinstaller --onefile --windowed --name="MusicPicker" MusicPicker.py
```

## 常见问题

- **歌曲未找到** - 检查文件名是否包含歌曲名和艺术家
- **中文乱码** - 确保txt文件使用UTF-8编码
- **权限错误** - 确保对输出文件夹有写入权限

## 应用场景

- 音乐平台迁移
- 歌单本地化
- 音乐收藏整理
- 云同步准备
- 播放列表管理和比较 (v1.2.0)

## 许可证

MIT License